install.packages("usethis")
library(usethis)
usethis()
?usethis
usethis
usethis()
git_sitrep()
use_git_config(user.email = "thesammaher@gmail.com")
git_sitrep()
gitcreds::gitcreds_set()
getwd()
library(data.table)
library(tidyverse)
library(Hmisc)
install.packages("Hmisc")
library(googlesheets4)
?drive_death()
library(googledrive)
?drive_deauth()
setwd()
getwd()
drive_deauth()  #This let's us download the public spreadsheet without having to authorize your account
drive_download("https://docs.google.com/spreadsheets/d/15yYexIiG3WSeTfnAwUJBgrwrDk9zPtsRqdlAlVcm6fI/edit?usp=sharing",
overwrite = TRUE,
path = "data/goog_raw.csv")
raw <- read.csv('datagoog_raw.csv')
#Save locally
raw <- read.csv('goog_raw.csv')
#Save locally
raw <- read.csv('goog_raw.csv')
#Save locally
raw <- read.csv('data/goog_raw.csv')
?fread
library(splitstackshape)
install.packages("splitstackshape")
datasheet <- read.csv('data/goog_raw.csv')
#list from data cleaning document
colsToSplit <- c("IUCN Threats", "Goals (Ecological)", "Goals (Socioeconomic)", "Goals (Admin/Logistical)",
"Success Indicators (Ecological)", "Success Indicators (Socioeconomic)",
"Success Indicators (Admin/Logistical)",  "Translocation Type",
"Captive/wild/rehab", "Post Release", "Groups involved", "Outreach",
"Major difficulties faced (Ecological)",      "Major difficulties faced (Socioeconomic)" ,
"Major difficulties faced (Admin/Logistic)" , "Lessons learned (Ecological)" ,
"Lessons learned (Socioeconomic)",  "Lessons learned (Admin/Logistic)",  "Reasons cited for success (Ecological)",
"Reasons Cited for Success (Socioeconomic)", "Reasons cited for success (Admin/Logistic)",
"Local threats")
#function to split column into multiple columns containing 0/1 values for each unique value in original column
splitColumn <- function (colName) {
datasheet %>% select(colName) %>% cSplit_e(1, ",", type = "character", fill = 0, drop = TRUE)
}
#merged all split up columns
datasheetSplit <- map_dfc(colsToSplit, splitColumn)
rm(raw)
colsToSplit <- c("IUCN Threats", "Goals (Ecological)", "Goals (Socioeconomic)", "Goals (Admin/Logistical)",
"Success Indicators (Ecological)", "Success Indicators (Socioeconomic)",
"Success Indicators (Admin/Logistical)",  "Translocation Type",
"Captive/wild/rehab", "Post Release", "Groups involved", "Outreach",
"Major difficulties faced (Ecological)",      "Major difficulties faced (Socioeconomic)" ,
"Major difficulties faced (Admin/Logistic)" , "Lessons learned (Ecological)" ,
"Lessons learned (Socioeconomic)",  "Lessons learned (Admin/Logistic)",  "Reasons cited for success (Ecological)",
"Reasons Cited for Success (Socioeconomic)", "Reasons cited for success (Admin/Logistic)",
"Local threats")
splitColumn <- function (colName) {
datasheet %>% select(colName) %>% cSplit_e(1, ",", type = "character", fill = 0, drop = TRUE)
}
#merged all split up columns
datasheetSplit <- map_dfc(colsToSplit, splitColumn)
?cSplit_e
library(splitstackshape)
#merged all split up columns
datasheetSplit <- map_dfc(colsToSplit, splitColumn)
datasheet <- read.csv('data/goog_raw.csv')
#list from data cleaning document
colsToSplit <- c("IUCN Threats", "Goals (Ecological)", "Goals (Socioeconomic)", "Goals (Admin/Logistical)",
"Success Indicators (Ecological)", "Success Indicators (Socioeconomic)",
"Success Indicators (Admin/Logistical)",  "Translocation Type",
"Captive/wild/rehab", "Post Release", "Groups involved", "Outreach",
"Major difficulties faced (Ecological)",      "Major difficulties faced (Socioeconomic)" ,
"Major difficulties faced (Admin/Logistic)" , "Lessons learned (Ecological)" ,
"Lessons learned (Socioeconomic)",  "Lessons learned (Admin/Logistic)",  "Reasons cited for success (Ecological)",
"Reasons Cited for Success (Socioeconomic)", "Reasons cited for success (Admin/Logistic)",
"Local threats")
#function to split column into multiple columns containing 0/1 values for each unique value in original column
splitColumn <- function (colName) {
datasheet %>% select(colName) %>% cSplit_e(1, ",", type = "character", fill = 0, drop = TRUE)
}
#merged all split up columns
datasheetSplit <- map_dfc(colsToSplit, splitColumn)
View(datasheet)
#Save locally:
datasheet <- fread('data/goog_raw.csv')
#list from data cleaning document
colsToSplit <- c("IUCN Threats", "Goals (Ecological)", "Goals (Socioeconomic)", "Goals (Admin/Logistical)",
"Success Indicators (Ecological)", "Success Indicators (Socioeconomic)",
"Success Indicators (Admin/Logistical)",  "Translocation Type",
"Captive/wild/rehab", "Post Release", "Groups involved", "Outreach",
"Major difficulties faced (Ecological)",      "Major difficulties faced (Socioeconomic)" ,
"Major difficulties faced (Admin/Logistic)" , "Lessons learned (Ecological)" ,
"Lessons learned (Socioeconomic)",  "Lessons learned (Admin/Logistic)",  "Reasons cited for success (Ecological)",
"Reasons Cited for Success (Socioeconomic)", "Reasons cited for success (Admin/Logistic)",
"Local threats")
#function to split column into multiple columns containing 0/1 values for each unique value in original column
splitColumn <- function (colName) {
datasheet %>% select(colName) %>% cSplit_e(1, ",", type = "character", fill = 0, drop = TRUE)
}
#merged all split up columns
datasheetSplit <- map_dfc(colsToSplit, splitColumn)
View(datasheetSplit)
# Wildlife Recovery Project
## Middleton Lab
### 2021
######################################################################################
############## 01 Downloading and Cleaning Data from Google Sheet ####################
######################################################################################
library(data.table)
library(tidyverse)
library(Hmisc)
library(googledrive)
library(googlesheets4)
library(splitstackshape)
setwd("")
#### Download Google Sheet Data from Middleton Lab Google Drive and CLEAN THAT DIRTY DATA####
# Notes: To make this easy, I've made the sheet public. Otherwise you need to set up a token etc and it's annoying w/ the Berkeley security system.
#This let's us download the public spreadsheet without having to authorize your account:
drive_deauth()
#Download edited data directly from google sheet "Edited Wildlife recovery case study data" in Datasheets folder:
drive_download("https://docs.google.com/spreadsheets/d/15yYexIiG3WSeTfnAwUJBgrwrDk9zPtsRqdlAlVcm6fI/edit?usp=sharing",
overwrite = TRUE,
path = "data/goog_raw.csv")
#Save locally:
datasheet <- fread('data/goog_raw.csv')
#list from data cleaning document
colsToSplit <- c("IUCN Threats", "Goals (Ecological)", "Goals (Socioeconomic)", "Goals (Admin/Logistical)",
"Success Indicators (Ecological)", "Success Indicators (Socioeconomic)",
"Success Indicators (Admin/Logistical)",  "Translocation Type",
"Captive/wild/rehab", "Post Release", "Groups involved", "Outreach",
"Major difficulties faced (Ecological)",      "Major difficulties faced (Socioeconomic)" ,
"Major difficulties faced (Admin/Logistic)" , "Lessons learned (Ecological)" ,
"Lessons learned (Socioeconomic)",  "Lessons learned (Admin/Logistic)",  "Reasons cited for success (Ecological)",
"Reasons Cited for Success (Socioeconomic)", "Reasons cited for success (Admin/Logistic)",
"Local threats")
#function to split column into multiple columns containing 0/1 values for each unique value in original column
splitColumn <- function (colName) {
datasheet %>% select(colName) %>% cSplit_e(1, ",", type = "character", fill = 0, drop = TRUE)
}
#merged all split up columns
datasheetSplit <- map_dfc(colsToSplit, splitColumn)
View(datasheetSplit)
VieW(datasheet)
View(datasheet)
?usethis
install.packages("rJava")
library(rJava)
library(rJava)
